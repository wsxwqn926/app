function $(t){return document.querySelector(t)}document.addEventListener("DOMContentLoaded",function(){var t=640,e=document.documentElement,n=e.offsetWidth,o=n/t;e.style.fontSize=100*o+"px"});var login={init:function(){this.textName=$("input[type=text]"),this.password=$("input[type=password]"),this.show=$("#show"),this.bear=$("#bear"),this.logomBtn=$(".logomBtn"),this.signBtn=$(".signBtn"),this.backtrack=$(".backtrack"),this.loginClick(),this.signTou(),this.check(),this.local(),this.indexLo(),this.keyupDom()},tipGet:function(t,e,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){200==o.status&&4==o.readyState&&n(o.responseText)},o.open("get"," http://datainfo.duapp.com/shopdata/userinfo.php?status=login&userID="+t+"&password="+e,!0),o.send()},keyupDom:function(){document.onkeyup=function(t){8==t.keyCode&&window.history.back()}},local:function(){var t=localStorage.getItem("userID"),e=localStorage.getItem("password");null!=t&&null!=e&&(location.href="Desktop.html")},loginClick:function(){var t=this;this.logomBtn.addEventListener("touchstart",function(){var e=t.textName.value,n=t.password.value;t.tipGet(e,n,function(o){if(0==e.length)alert("请输入登录信息！");else if(0==o)alert("用户名不存在！");else if(2==o)alert("用户名密码不符！");else{var s=JSON.parse(o);userID=s.userID,n=s.password,t.bear[checked="checked"]?localStorage.setItem("userID",userID,"password",n):localStorage.setItem("userID",userID),alert("恭喜用户"+e+"登录成功！"),location.href="Desktop.html"}})},!0)},signTou:function(){this.signBtn.addEventListener("touchstart",function(){location.href="register.html"},!0)},check:function(){var t=this;this.show.addEventListener("touchstart",function(){t.show[checked="checked"]?t.password.type="password":t.password.type="text"},!0)},indexLo:function(){this.backtrack.addEventListener("touchstart",function(){window.history.back()},!0)}};login.init();